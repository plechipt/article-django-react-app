{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertPatternGroupToTask = exports.convertPatternGroupsToTasks = exports.groupPatternsByBaseDirectory = exports.getNegativePatternsAsPositive = exports.getPositivePatterns = exports.convertPatternsToTasks = exports.generate = void 0;\n\nconst utils = require(\"../utils\");\n\nfunction generate(patterns, settings) {\n  const positivePatterns = getPositivePatterns(patterns);\n  const negativePatterns = getNegativePatternsAsPositive(patterns, settings.ignore);\n  const staticPatterns = positivePatterns.filter(pattern => utils.pattern.isStaticPattern(pattern, settings));\n  const dynamicPatterns = positivePatterns.filter(pattern => utils.pattern.isDynamicPattern(pattern, settings));\n  const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns,\n  /* dynamic */\n  false);\n  const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns,\n  /* dynamic */\n  true);\n  return staticTasks.concat(dynamicTasks);\n}\n\nexports.generate = generate;\n\nfunction convertPatternsToTasks(positive, negative, dynamic) {\n  const positivePatternsGroup = groupPatternsByBaseDirectory(positive); // When we have a global group – there is no reason to divide the patterns into independent tasks.\n  // In this case, the global task covers the rest.\n\n  if ('.' in positivePatternsGroup) {\n    const task = convertPatternGroupToTask('.', positive, negative, dynamic);\n    return [task];\n  }\n\n  return convertPatternGroupsToTasks(positivePatternsGroup, negative, dynamic);\n}\n\nexports.convertPatternsToTasks = convertPatternsToTasks;\n\nfunction getPositivePatterns(patterns) {\n  return utils.pattern.getPositivePatterns(patterns);\n}\n\nexports.getPositivePatterns = getPositivePatterns;\n\nfunction getNegativePatternsAsPositive(patterns, ignore) {\n  const negative = utils.pattern.getNegativePatterns(patterns).concat(ignore);\n  const positive = negative.map(utils.pattern.convertToPositivePattern);\n  return positive;\n}\n\nexports.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\n\nfunction groupPatternsByBaseDirectory(patterns) {\n  const group = {};\n  return patterns.reduce((collection, pattern) => {\n    const base = utils.pattern.getBaseDirectory(pattern);\n\n    if (base in collection) {\n      collection[base].push(pattern);\n    } else {\n      collection[base] = [pattern];\n    }\n\n    return collection;\n  }, group);\n}\n\nexports.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\n\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\n  return Object.keys(positive).map(base => {\n    return convertPatternGroupToTask(base, positive[base], negative, dynamic);\n  });\n}\n\nexports.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\n\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\n  return {\n    dynamic,\n    positive,\n    negative,\n    base,\n    patterns: [].concat(positive, negative.map(utils.pattern.convertToNegativePattern))\n  };\n}\n\nexports.convertPatternGroupToTask = convertPatternGroupToTask;","map":{"version":3,"sources":["C:/Users/Admin/programs/django+react/tutorials/graphql_django/frontend/gui/node_modules/@graphql-tools/load/node_modules/fast-glob/out/managers/tasks.js"],"names":["Object","defineProperty","exports","value","convertPatternGroupToTask","convertPatternGroupsToTasks","groupPatternsByBaseDirectory","getNegativePatternsAsPositive","getPositivePatterns","convertPatternsToTasks","generate","utils","require","patterns","settings","positivePatterns","negativePatterns","ignore","staticPatterns","filter","pattern","isStaticPattern","dynamicPatterns","isDynamicPattern","staticTasks","dynamicTasks","concat","positive","negative","dynamic","positivePatternsGroup","task","getNegativePatterns","map","convertToPositivePattern","group","reduce","collection","base","getBaseDirectory","push","keys","convertToNegativePattern"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.convertPatternGroupToTask = exports.convertPatternGroupsToTasks = exports.groupPatternsByBaseDirectory = exports.getNegativePatternsAsPositive = exports.getPositivePatterns = exports.convertPatternsToTasks = exports.generate = void 0;\r\nconst utils = require(\"../utils\");\r\nfunction generate(patterns, settings) {\r\n    const positivePatterns = getPositivePatterns(patterns);\r\n    const negativePatterns = getNegativePatternsAsPositive(patterns, settings.ignore);\r\n    const staticPatterns = positivePatterns.filter((pattern) => utils.pattern.isStaticPattern(pattern, settings));\r\n    const dynamicPatterns = positivePatterns.filter((pattern) => utils.pattern.isDynamicPattern(pattern, settings));\r\n    const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns, /* dynamic */ false);\r\n    const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns, /* dynamic */ true);\r\n    return staticTasks.concat(dynamicTasks);\r\n}\r\nexports.generate = generate;\r\nfunction convertPatternsToTasks(positive, negative, dynamic) {\r\n    const positivePatternsGroup = groupPatternsByBaseDirectory(positive);\r\n    // When we have a global group – there is no reason to divide the patterns into independent tasks.\r\n    // In this case, the global task covers the rest.\r\n    if ('.' in positivePatternsGroup) {\r\n        const task = convertPatternGroupToTask('.', positive, negative, dynamic);\r\n        return [task];\r\n    }\r\n    return convertPatternGroupsToTasks(positivePatternsGroup, negative, dynamic);\r\n}\r\nexports.convertPatternsToTasks = convertPatternsToTasks;\r\nfunction getPositivePatterns(patterns) {\r\n    return utils.pattern.getPositivePatterns(patterns);\r\n}\r\nexports.getPositivePatterns = getPositivePatterns;\r\nfunction getNegativePatternsAsPositive(patterns, ignore) {\r\n    const negative = utils.pattern.getNegativePatterns(patterns).concat(ignore);\r\n    const positive = negative.map(utils.pattern.convertToPositivePattern);\r\n    return positive;\r\n}\r\nexports.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\r\nfunction groupPatternsByBaseDirectory(patterns) {\r\n    const group = {};\r\n    return patterns.reduce((collection, pattern) => {\r\n        const base = utils.pattern.getBaseDirectory(pattern);\r\n        if (base in collection) {\r\n            collection[base].push(pattern);\r\n        }\r\n        else {\r\n            collection[base] = [pattern];\r\n        }\r\n        return collection;\r\n    }, group);\r\n}\r\nexports.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\r\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\r\n    return Object.keys(positive).map((base) => {\r\n        return convertPatternGroupToTask(base, positive[base], negative, dynamic);\r\n    });\r\n}\r\nexports.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\r\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\r\n    return {\r\n        dynamic,\r\n        positive,\r\n        negative,\r\n        base,\r\n        patterns: [].concat(positive, negative.map(utils.pattern.convertToNegativePattern))\r\n    };\r\n}\r\nexports.convertPatternGroupToTask = convertPatternGroupToTask;\r\n"]},"metadata":{},"sourceType":"script"}
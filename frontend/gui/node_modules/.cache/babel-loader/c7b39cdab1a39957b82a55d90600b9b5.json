{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\programs\\\\django+react\\\\tutorials\\\\graphql_django\\\\frontend\\\\gui\\\\src\\\\App.js\";\nimport React, { useEffect } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { useMutation } from '@apollo/react-hooks';\nimport './App.css'; //Additional Components\n\nimport Navbar from './components/Navbar'; //Posts\n\nimport Posts from './components/Posts/Posts/Posts';\nimport PostDetail from './components/Posts/PostDetail/PostDetail';\nimport PostCreate from './components/Posts/PostCreate/PostCreate';\nimport PostEdit from './components/Posts/PostEdit/PostEdit'; //Profiles\n\nimport Profile from './components/Profiles/Profile'; //Authentication\n\nimport Login from './components/Authentication/Login';\nimport Register from './components/Authentication/Register';\nimport { USER_REFRESH_TOKEN_MUTATION } from './components/api/user';\n\nfunction App() {\n  const user = localStorage.getItem('user');\n  const token = localStorage.getItem('token');\n  const [verifyToken, {\n    data: tokenData\n  }] = useMutation(USER_REFRESH_TOKEN_MUTATION);\n  useEffect(() => {\n    const tokenVerifycation = () => {\n      if (token) {\n        verifyToken({\n          variables: {\n            token: token\n          }\n        });\n      }\n    };\n\n    tokenVerifycation();\n  }, [token]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, token === null ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    component: () => /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 51\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    component: () => /*#__PURE__*/React.createElement(Register, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 54\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  })) : null, tokenData ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, tokenData.verifyToken.success === true && tokenData.verifyToken.payload.username === user ? /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/profile/:user\",\n    component: () => /*#__PURE__*/React.createElement(Profile, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 63\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/editPost/:id\",\n    component: () => /*#__PURE__*/React.createElement(PostEdit, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 62\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/createPost\",\n    component: () => /*#__PURE__*/React.createElement(PostCreate, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 60\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/:id\",\n    component: () => /*#__PURE__*/React.createElement(PostDetail, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 53\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    component: () => /*#__PURE__*/React.createElement(Posts, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 50\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  })) : null) : null));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Admin/programs/django+react/tutorials/graphql_django/frontend/gui/src/App.js"],"names":["React","useEffect","Route","Switch","Redirect","useMutation","Navbar","Posts","PostDetail","PostCreate","PostEdit","Profile","Login","Register","USER_REFRESH_TOKEN_MUTATION","App","user","localStorage","getItem","token","verifyToken","data","tokenData","tokenVerifycation","variables","success","payload","username"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport './App.css';\r\n\r\n//Additional Components\r\nimport Navbar from './components/Navbar'\r\n\r\n//Posts\r\nimport Posts from './components/Posts/Posts/Posts'\r\nimport PostDetail from './components/Posts/PostDetail/PostDetail'\r\nimport PostCreate from './components/Posts/PostCreate/PostCreate'\r\nimport PostEdit from './components/Posts/PostEdit/PostEdit'\r\n\r\n//Profiles\r\nimport Profile from './components/Profiles/Profile'\r\n\r\n//Authentication\r\nimport Login from './components/Authentication/Login'\r\nimport Register from './components/Authentication/Register'\r\nimport { USER_REFRESH_TOKEN_MUTATION } from './components/api/user'\r\n\r\n\r\nfunction App () {\r\n  const user = localStorage.getItem('user')\r\n  const token = localStorage.getItem('token')\r\n  const [ verifyToken, { data: tokenData }] = useMutation(USER_REFRESH_TOKEN_MUTATION)\r\n\r\n  \r\n  useEffect(() => {\r\n    const tokenVerifycation = () => {\r\n      if (token) {\r\n        verifyToken({ variables: { token: token } })\r\n      }\r\n    }\r\n    tokenVerifycation()\r\n  }, [token])\r\n  \r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <Navbar />\r\n      <Switch>\r\n        {(token === null) ? (\r\n          <div>\r\n            <Route path=\"/login\" component={() => <Login />} />\r\n            <Route path=\"/register\" component={() => <Register />} />\r\n          </div>\r\n        ) : null}\r\n        {(tokenData) ? (\r\n          <div>\r\n            {(tokenData.verifyToken.success === true && tokenData.verifyToken.payload.username === user) ? (\r\n              <Switch>\r\n                <Route path=\"/profile/:user\" component={() => <Profile />} />\r\n                <Route path=\"/editPost/:id\" component={() => <PostEdit />} />\r\n                <Route path=\"/createPost\" component={() => <PostCreate />} />\r\n                <Route path=\"/:id\" component={() => <PostDetail />} />\r\n                <Route path=\"/\" component={() => <Posts />} />\r\n              </Switch>  \r\n            ) : null}\r\n          </div>\r\n        ) : null }\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}